= Ruby
:icons: font

Ruby is a delightful programming language designed for programmer happiness ðŸ’–.

Yukihiro Matsumoto once presented link:./Yukihiro-Matsumoto-How-Emacs-Changed-My-Life.pdf[How Emacs Changed My Life (PDF)] which goes into how https://www.gnu.org/software/emacs/[Emacs] and https://www.gnu.org/software/emacs/manual/html_node/eintr/[emacs-lisp] influenced Matz and the design of the Ruby programming language.
Unfortunately, it seems there is no video recording of it.
https://www.slideshare.net/yukihiro_matz/how-emacs-changed-my-life[Hereâ€™s the Slideshare link] for the presentation.

* https://i-love-ruby.gitlab.io/book.html[I Love Ruby] free, online book (rendered in Asciidoctor) by Karthikeyan A K.
* https://ruby-doc.org/[Official Ruby Docs].

Nice tools:

* https://rubystyle.guide/[Ruby Style Guide].
* https://docs.rubocop.org/rubocop/[Rubocop Docs].
* https://github.com/awesome-print/awesome_print[Awesome Print].
* https://github.com/pry/pry[pry (irb alternative with powerful
introspection capabilities)].
* https://solargraph.org/guides[Solargraph Ruby Langauge Server].

== Ruby Concepts and Ideas

* The name of the language is spelled _Ruby_ (not RUBY or ruby) because it is a proper noun (therefore, the first letter is capitalized). `ruby` is the name of the program we use to run Ruby programs, like`ruby -w fib.rb`.
* A _mix-in_ (also spelled _mix in_) is the including of a module inside a class. We say things like â€œThe Enumerable mix-in module providesâ€¦â€.
See https://ruby-doc.com/core/doc/syntax/modules_and_classes_rdoc.html[Ruby doc on modules].

== Bits and Bytes of Syntax Sugar

=== Hash Values

We can get all the values of a hash by doing this:

----
>> { one: 1, two: 2 }.map(&:last)
=> [1, 2]
----

Which is similar to doing `hash.values`

=== Map and Hash to Proc to Get Values

----
>> h = { one: 1, two: 2 }

>> [:one, :two].map(&h)
=> [1, 2]
----

With an array of keys, we map over those keys, and _turn the hash into a proc_ðŸ˜²!

Saw this first in a solution for https://exercism.org/tracks/ruby/exercises/resistor-color-duo[resistor color duo exercism challenge].

If we define `to_proc` we can use this _trick_ for any object.

=== Hash Transform Values and &:next to_proc

----
>> {one: 1, two: 2}.transform_values(&:next)
=> {:one=>2, :two=>3}
----

## Note on Style

- link:https://discord.com/channels/518658712081268738/650031651845308419/1080189900311236719[My question on unnecessary readers on Discord].

No need to write readers for every instance variable if they don't need to be exposed publicly.
Just use the instance variables themselves.

## Methods

`1 + 1` is just syntax sugar for `1.+(1)`, that is, a normal method call.

Ruby doesn't have the post and pre increment operators `x--` or `++x` (TODO: mention `succ` and `pred`?).

If `1 + 1` is actually `1.+(1)`, one could ask what `n += 1` is syntax sugar for.
We know from other languages that `n += 1` is the same as `n = n + 1` (which works in Ruby too).

`+=` is not sugar, but just language syntax, not a method.
According to link:https://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Operators#Assignment^], these are called *self assignment*:

[source,text]
----
x = 1        #=> 1 (this is the only non-self assignment in this list)
x += x       #=> 2
x -= x       #=> 0
x += 4       #=> x was 0 so x= + 4 x is positive 4
x *= x       #=> 16
x **= x      #=> 18446744073709551616. Raise to the power
x /= x       #=> 1
----
